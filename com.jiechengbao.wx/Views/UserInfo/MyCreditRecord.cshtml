
@{
    ViewBag.Title = "MyCreditRecord";
    Layout = "~/Views/LayoutPage2.cshtml";
}

@using com.jiechengbao.entity
<style>
    .goods-view {
        border: none !important;
    }

    .goods-cell {
        border: none !important;
        padding-top: 0px;
    }

    .goods-ul {
        margin-top: 10px;
    }

    .address-cell {
        margin-top: 5px;
    }

    .title {
        margin: 20px 15px 10px;
        color: #6d6d72;
        font-size: 15px;
        text-align: center;
    }
    .money-sub{
        color:#000;
        font-weight:600;
    }
    .money-add{
        color:#33c846;
        font-weight:600;
    }
</style>

<button type="button" class="mui-btn mui-btn-block">当前积分: @ViewBag.CurrentCredit</button>
@{
    List<CreditRecord> creditRecordList = ViewData["creditRecordList"] as List<CreditRecord>;
    <ul class="mui-table-view goods-ul">
        @foreach (var item in creditRecordList)
        {
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <div class="mui-media-body">
                        <ul class="mui-table-view mui-table-view-striped mui-table-view-condensed goods-view">
                            <li class="mui-table-view-cell goods-cell">
                                <div class="mui-table name-cell">
                                    <div class="mui-table-cell mui-col-xs-8">
                                        <p class="mui-ellipsis">@item.Notes</p>
                                    </div>
                                    <div class="mui-table-cell mui-col-xs-4 mui-text-right">
                                        @if (item.OperationType == "Consumption")
                                        {
                                            <span class="mui-h5 money-sub">- @item.Money</span>
                                        }
                                        else
                                        {
                                            <span class="mui-h5 money-add">+ @item.Money</span>
                                        }
                                        
                                    </div>
                                </div>
                                <div class="mui-table address-cell">
                                    <div class="mui-table-cell mui-col-xs-12">
                                        <p class="mui-h6 mui-ellipsis">记录时间: @item.CreatedTime</p>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </a>
            </li>
        }
    </ul>
}
@if (creditRecordList == null || creditRecordList.Count == 0)
{
    <div class="title">尚无积分操作记录</div>
}